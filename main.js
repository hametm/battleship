(()=>{function t(t){const n=t.length,o=[];return{length:n,position:t,hitPositions:o,hit:t=>{o.push(t)},isSunk:()=>{if(o.length===n)return!0}}}function n(t){let n=[];return{score:0,team:t,attack:()=>{let t=o.positions[Math.floor(Math.random()*(o.positions.length-1))];for(;n.includes(t);)t=o.positions[Math.floor(Math.random()*(o.positions.length-1))];return n.push(t),t}}}const o=(()=>{const n=document.getElementById("gameboard"),o=["A","B","C","D","E","F","G","H","I","J"],e=[1,2,3,4,5,6,7,8,9,10];let s=[[],[],[],[],[],[],[],[],[],[]],i=[[],[],[],[],[],[],[],[],[],[]];const l=[],h=t([]),u=t([]),r=t([]),p=t([]),a=[h,u,r,p],c=[];for(let t=0;t<o.length;t++)for(let n=0;n<e.length;n++){let s=o[t]+e[n];l.push(s),f(s,t),d(s,n)}function f(t,n){"A"===o[n]&&s[0].push(t),"B"===o[n]&&s[1].push(t),"C"===o[n]&&s[2].push(t),"D"===o[n]&&s[3].push(t),"E"===o[n]&&s[4].push(t),"F"===o[n]&&s[5].push(t),"G"===o[n]&&s[6].push(t),"H"===o[n]&&s[7].push(t),"I"===o[n]&&s[8].push(t),"J"===o[n]&&s[9].push(t)}function d(t,n){1===e[n]&&i[0].push(t),2===e[n]&&i[1].push(t),3===e[n]&&i[2].push(t),4===e[n]&&i[3].push(t),5===e[n]&&i[4].push(t),6===e[n]&&i[5].push(t),7===e[n]&&i[6].push(t),8===e[n]&&i[7].push(t),9===e[n]&&i[8].push(t),10===e[n]&&i[9].push(t)}const g=t=>{let n,o,e,h,u,r=[],p=Math.floor(4*Math.random()+1),c=Math.floor(2*Math.random()+1);function f(t){for(let n=0;n<a.length;n++)if(a[n].position.includes(t))return!0}!function(){for(n=l[Math.floor(Math.random()*(l.length-1))];f(n);)n=l[Math.floor(Math.random()*(l.length-1))]}();for(let t=0;t<s.length;t++)for(let i=0;i<s[t].length;i++)s[t][i]===n&&(o=t,e=i);for(let t=0;t<i.length;t++)for(let o=0;o<i[t].length;o++)i[t][o]===n&&(h=t,u=o);if(1===c){let i=e,l=o;r.push(n),e+p>10&&(p=10-e);for(let t=0;t<p-1;t++){let t=s[l][i+1];if(f(t))break;r.push(t),i++}t.position=r}if(2===c){let o=u,e=h;r.push(n),u+p>10&&(p=10-u);for(let t=0;t<p-1;t++){let t=i[e][o+1];if(f(t))break;r.push(t),o++}t.position=r}};for(let t=0;t<a.length;t++)g(a[t]),console.log(a[t].position);return function(){for(let t=0;t<l.length;t++){const o=document.createElement("div");o.textContent=l[t],n.appendChild(o),h.position.includes(o.textContent)&&o.classList.add("taken1"),u.position.includes(o.textContent)&&o.classList.add("taken2"),r.position.includes(o.textContent)&&o.classList.add("taken3"),p.position.includes(o.textContent)&&o.classList.add("taken4")}}(),{missedAttacks:c,positions:l,receiveAttack:t=>{let n=!1;for(let o=0;o<a.length;o++)console.log(a[o].position),a[o].position.includes(t)&&(a[o].hit(t),console.log("HIT"),n=!0);for(let o=0;o<a.length;o++)if(!n){if(c.includes(t))continue;c.push(t)}},checkIfSunk:()=>{let t=0;for(let n=0;n<a.length;n++)a[n].isSunk&&t++;if(5===t)return!0}}})();n("human"),n("computer")})();